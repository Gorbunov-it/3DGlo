(()=>{"use strict";const e=({timing:e,draw:t,duration:o})=>{let c=performance.now();requestAnimationFrame((function r(s){let n=(s-c)/o;n>1&&(n=1);let a=e(n);t(a),n<1&&requestAnimationFrame(r)}))},t=({formId:e,someElem:t=[]})=>{const o=document.getElementById(e),c="Error...",r=()=>o.querySelector(".status"),s=e=>{r().textContent=e};try{if(!o)throw new Error("Вверни форму на место, пожалуйста");o.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=new FormData(o),n={};(e=>{const t=document.createElement("div");t.classList.add("status"),t.style.color="#fff",e.append(t)})(o),s("Loadig..."),e.forEach(((e,t)=>{n[t]=e})),t.forEach((e=>{const t=document.getElementById(e.id);"block"===e.type?n[e.id]=t.textContent:"input"===e.type&&(n[e.id]=t.value)}));const a=o.querySelectorAll("input");var l;(e=>{let t=!0;return e.forEach((e=>{e.classList.contains("success")||(t=!1)})),t})(a)?(l=n,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((e=>{s("Seccuss..."),console.log("submit"),a.forEach((e=>{e.value=""})),setTimeout((()=>{r().remove()}),2e3)})).catch((e=>{s(c)})):(alert("Данные не валидны!!"),s(c),setTimeout((()=>{r().remove()}),2e3))})()}))}catch(e){console.log(e.message)}};(e=>{const t=document.getElementById("timer-days"),o=document.getElementById("timer-hours"),c=document.getElementById("timer-minutes"),r=document.getElementById("timer-seconds"),s=e=>e<10?"0"+e:e,n=()=>{const e=(()=>{const e=(new Date("01 January 2024").getTime()-(new Date).getTime())/1e3;return{timeRemaining:e,days:Math.floor(e/60/60/24),hours:Math.floor(e/60/60%24),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}})();t.textContent=s(e.days),o.textContent=s(e.hours),c.textContent=s(e.minutes),r.textContent=s(e.seconds),e.timeRemaining>0?setInterval(n,1e3):(t.textContent="00",o.textContent="00",c.textContent="00",r.textContent="00")};setInterval((()=>{n()}),1e3)})(),(()=>{const e=document.querySelector("menu"),t=document.querySelector("body"),o=()=>{e.classList.toggle("active-menu")};t.addEventListener("click",(e=>{!e.target.closest(".active-menu")&&document.querySelector("menu").closest(".active-menu")&&o(),(e.target.closest(".menu")||e.target.closest(".close-btn")||e.target.closest("ul>li>a"))&&o()}))})(),(()=>{const t=document.querySelector(".popup"),o=document.querySelectorAll(".popup-btn"),c=t.querySelector(".popup-close"),r=o=>{window.outerWidth>=768?(o=>{((o,c)=>{t.style.opacity=c,e({duration:1e3,timing:e=>e,draw(e){"block"===o?(t.style.display=o,t.style.opacity=c+e):(t.style.opacity=c-e,t.style.opacity<=0&&(t.style.display=o))}})})(o,"block"==o?0:1)})(o):(e=>{t.style.display=e,t.style.opacity="block"==e?1:0})(o)};o.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),r("block")}))})),c.addEventListener("click",(e=>{e.preventDefault(),r("none")}))})(),(()=>{const e=document.querySelector("main > a"),t=document.getElementById("service-block");e.addEventListener("click",(e=>{e.preventDefault(),t.scrollIntoView({behavior:"smooth",block:"start"})}))})(),document.querySelector("menu").querySelectorAll("ul>li>a").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let o=e.getAttribute("href").substring(1);const c=document.getElementById(o);c.scrollIntoView({behavior:"smooth",block:"start"})}))})),(()=>{const e=document.getElementById("calc"),t=e.querySelector(".calc-square"),o=e.querySelector(".calc-count"),c=e.querySelector(".calc-day"),r=/^[1-9]\d*$/,s=(e,t)=>t.test(e),n=e=>{e.style.borderColor="#19b5fe"},a=e=>{e.style.borderColor="#ff0000",e.value=e.value.replace(/[^0-9+]/g,""),e.value=""};t.addEventListener("input",(e=>{e.preventDefault(),s(e.target.value,r)?n(t):a(t)})),o.addEventListener("input",(e=>{e.preventDefault(),s(e.target.value,r)?n(o):a(o)})),c.addEventListener("input",(e=>{e.preventDefault(),s(e.target.value,r)?n(c):a(c)}))})(),(()=>{const e=document.querySelectorAll(".form-name"),t=/^[-?!,.а-яА-ЯёЁ0-9\s]+$/;e.forEach((e=>{e.addEventListener("input",(o=>{o.preventDefault(),(e=>t.test(e))(e.value)?e.classList.add("success"):e.classList.remove("success")}))}))})(),(()=>{const e=document.querySelectorAll(".form-email"),t=/^[-\w.]+@([A-z0-9][-A-z0-9]+\.)+[A-z]{2,4}$/;e.forEach((e=>{e.addEventListener("input",(o=>{var c;o.preventDefault(),c=e.value,t.test(c)?e.classList.add("success"):e.classList.remove("success")}))}))})(),(()=>{const e=document.querySelectorAll(".form-phone"),t=/(\+7|8)[\s(]?(\d{3})[\s)]?(\d{3})[\s-]?(\d{2})[\s-]?(\d{2})/g;e.forEach((e=>{e.addEventListener("input",(o=>{var c;o.preventDefault(),c=e.value,t.test(c)?e.classList.add("success"):e.classList.remove("success")}))}))})(),(()=>{const e=document.getElementById("connect").querySelector(".mess"),t=/[^-?!,.а-яА-ЯёЁ]/g;e.addEventListener("input",(o=>{var c;o.preventDefault(),c=+e.value,t.test(c)?e.classList.add("success"):e.classList.remove("success")}))})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{if(e.target.closest(".service-header-tab")){const c=e.target.closest(".service-header-tab");t.forEach(((e,t)=>{e===c?(e.classList.add("active"),o[t].classList.remove("d-none")):(e.classList.remove("active"),o[t].classList.add("d-none"))}))}}))})(),(()=>{const e=document.querySelector(".portfolio-content"),t=document.querySelectorAll(".portfolio-item"),o=document.querySelector(".portfolio-dots");let c,r=document.querySelectorAll(".dot"),s=0;const n=(e,t,o)=>{e[t].classList.remove(o)},a=(e,t,o)=>{e[t].classList.add(o)},l=()=>{n(t,s,"portfolio-item-active"),n(r,s,"dot-active"),s++,s>=t.length&&(s=0),a(t,s,"portfolio-item-active"),a(r,s,"dot-active")},u=(e=2e3)=>{c=setInterval(l,e)};e.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".dot, .portfolio-btn")&&(n(t,s,"portfolio-item-active"),n(r,s,"dot-active"),e.target.matches("#arrow-right")?s++:e.target.matches("#arrow-left")?s--:e.target.classList.contains("dot")&&r.forEach(((t,o)=>{e.target===t&&(s=o)})),s>=t.length&&(s=0),s<0&&(s=t.length-1),a(t,s,"portfolio-item-active"),a(r,s,"dot-active"))})),e.addEventListener("mouseenter",(e=>{e.target.matches(".dot, .portfolio-btn")&&clearInterval(c)}),!0),e.addEventListener("mouseleave",(e=>{e.target.matches(".dot, .portfolio-btn")&&u(2e3)}),!0),(()=>{for(let e=0;e<t.length;e++){const t=document.createElement("li");t.className=0===e?"dot dot-active":"dot",o.append(t)}r=document.querySelectorAll(".dot")})(),u(2e3)})(),(t=>{const o=document.querySelector(".calc-block"),c=o.querySelector(".calc-type"),r=o.querySelector(".calc-square"),s=o.querySelector(".calc-count"),n=o.querySelector(".calc-day"),a=document.getElementById("total");o.addEventListener("input",(o=>{o.target!==c&&o.target!==r&&o.target!==s&&o.target!==n||(()=>{const o=+c.options[c.selectedIndex].value,l=r.value;let u=0,d=1,i=1;s.value>1&&(d+=+s.value/10),n.value&&n.value<5?i=2:n.value&&n.value<10&&(i=1.5),u=c.value&&r.value?t*o*l*d*i:0,u>0&&(t=>{e({duration:1e3,timing:e=>e,draw(e){a.textContent=Math.round(t*e)}})})(u)})()}))})(100),t({formId:"form1"}),t({formId:"form2",someElem:[{type:"input",id:"form2-message"}]}),t({formId:"form3"})})();